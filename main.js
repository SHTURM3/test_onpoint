(()=>{"use strict";var e=document.querySelector(".header__link"),t=document.querySelector(".home-page__btn"),n=document.querySelector(".message__scroll"),o=document.querySelector(".message__text"),s=document.querySelector(".popup"),c=document.querySelector(".key-message__btn"),r=document.querySelector(".popup__close-btn"),i=s.querySelector(".popup__list_first"),a=s.querySelector(".popup__list_second"),l=s.querySelector(".popup__point_first"),u=s.querySelector(".popup__point_second"),d=s.querySelector(".popup__btn-right"),p=s.querySelector(".popup__btn-left"),_=document.querySelector(".slider"),m=_.querySelector(".slider-list"),v=_.querySelector(".content"),y=_.querySelectorAll(".slide"),f=y[0].offsetWidth,L=0,g=0,q=0,S=0,h=0,x=0,b=0,E=!1,k=!1,X=!0,Y=!0,M=0,T=0,W=(y.length-1)*f,w=.35*y[0].offsetWidth,A=/([-0-9.]+(?=px))/;function j(){return-1!==event.type.search("touch")?event.touches[0]:event}function z(e){Y&&(v.style.transition="transform .5s"),v.style.transform="translate3d(-".concat(L*f,"px, 0px, 0px)")}function B(){var e=j();X&&(Y=!0,M=(L+1)*-f,T=(L-1)*-f,g=q=e.clientX,h=e.clientY,v.style.transition="",document.addEventListener("touchmove",C),document.addEventListener("mousemove",C),document.addEventListener("touchend",D),document.addEventListener("mouseup",D),m.classList.remove("grab"),m.classList.add("grabbing"))}function C(){var e=j(),t=+v.style.transform.match(A)[0];if(S=q-e.clientX,q=e.clientX,x=h-e.clientY,h=e.clientY,!E&&!k){var n=Math.abs(x);n>7||0===S?(k=!0,X=!1):n<7&&(E=!0)}if(E){if(0===L){if(g<q)return void F(t,0);X=!0}if(L===y.length-1){if(g>q)return void F(t,W);X=!0}if(g>q&&t<M||g<q&&t>T)return Y=!1,D(),void(X=!0);v.style.transform="translate3d(".concat(t-S,"px, 0px, 0px)")}}function D(){b=g-q,k=!1,E=!1,document.removeEventListener("touchmove",C),document.removeEventListener("mousemove",C),document.removeEventListener("touchend",D),document.removeEventListener("mouseup",D),m.classList.add("grab"),m.classList.remove("grabbing"),X?(Math.abs(b)>w&&(g<q?L--:g>q&&L++),g!==q?(X=!1,z()):X=!0):X=!0}function F(e,t){e>=t&&e>t&&(v.style.transform="translate3d(".concat(t,"px, 0px, 0px)")),X=!1}n.onscroll=function(){o.scrollTop=this.scrollTop},v.style.transform="translate3d(0px, 0px, 0px)",e.addEventListener("click",(function(){v.style.transform="translate3d(0px, 0px, 0px)"})),t.addEventListener("click",(function(){L++,z()})),d.addEventListener("click",(function(){console.log("right button"),i.classList.remove("popup__list-active"),a.classList.add("popup__list-active"),l.classList.remove("popup__point_active"),u.classList.add("popup__point_active")})),p.addEventListener("click",(function(){console.log("left button"),i.classList.add("popup__list-active"),a.classList.remove("popup__list-active"),l.classList.add("popup__point_active"),u.classList.remove("popup__point_active")})),c.addEventListener("click",(function(){s.classList.add("popup_active"),document.querySelector(".key-message__advantages").style.display="none",document.querySelector(".key-message__content").style.display="none"})),r.addEventListener("click",(function(){s.classList.remove("popup_active"),document.querySelector(".key-message__advantages").style.display="flex",document.querySelector(".key-message__content").style.display="block"})),m.classList.add("grab"),v.addEventListener("transitionend",(function(){return X=!0})),_.addEventListener("touchstart",B),_.addEventListener("mousedown",B)})();